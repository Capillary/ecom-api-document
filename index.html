<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Capillary ECom API Document</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #272822;
  background-color: #f92672;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #75715e;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #f8f8f2;
}
.highlight .p, .highlight .pi {
  color: #f8f8f2;
}
.highlight .gi {
  color: #a6e22e;
}
.highlight .gd {
  color: #f92672;
}
.highlight .gh {
  color: #66d9ef;
  background-color: #272822;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #ae81ff;
}
.highlight .kc {
  color: #fd971f;
}
.highlight .kt {
  color: #fd971f;
}
.highlight .kd {
  color: #fd971f;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #a6e22e;
}
.highlight .sr {
  color: #a1efe4;
}
.highlight .si {
  color: #cc6633;
}
.highlight .se {
  color: #cc6633;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #66d9ef;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #a6e22e;
}
.highlight .ss {
  color: #a6e22e;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;json&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="json">json</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Capillary ECom API Documentation</a></li>
            <li><a href=''></a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Capillary e-com APIs are RESTful APIs that can be used to configure merchant data, handle customer activities, and manage orders. ECOM APIs can be used for various in-house products and 3rd party integrations.</p>

<p>This document provides detailed information about each e-com API with appropriate sample codes.</p>

<h1 id="authentication-merchant-setup-on-admin-portal">Authentication (Merchant Setup on Admin Portal)</h1>

<p>Capillary e-com APIs can be authenticated in two ways and the Authentication Headers differ based on the type you choose. </p>

<h2 id="oauth-1-0-authentication">OAuth 1.0 Authentication</h2>

<p>OAuth protocol authenticates users via tokens (a unique string that identifies a user), that is, instead of sending actual credentials to the server on every request, you can first exchange your user credentials for a &lsquo;token&rsquo;, and then authenticate the user based on this &#39;token&rsquo;. The frequency of users passing credentials over the network will be less.</p>

<p>To access data through authorized e-com Developer APIs, it is required to use oAuth authentication as the input. </p>

<h3 id="headers">Headers</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Accept</td>
<td>application/json</td>
</tr>
<tr>
<td>Content-Type</td>
<td>application/x-www-form-urlencoded</td>
</tr>
</tbody></table>

<h3 id="authorization-header">Authorization Header</h3>

<p>To obtain access, you first need to obtain customer key and consumer secret of the app from the MartJack&rsquo;s <strong>Control Panel</strong> &gt; <strong>Apps</strong> &gt; <strong>App Store</strong> and configure the header. </p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Authorization Type</td>
<td>OAuth 1.0</td>
</tr>
<tr>
<td>PublicKey</td>
<td>${PublicKey}</td>
</tr>
<tr>
<td>Consumer Secret</td>
<td>{app&rsquo;s secret value}</td>
</tr>
</tbody></table>

<h2 id="jwt-authentication">JWT Authentication</h2>

<p><strong>JSON Web Token (JWT) Authentication</strong> is a new standard for creating token also called Token Based Authentication. This standard basically provides a set of rules for creating tokens in a very specific way, which makes tokens more useful for you in general.</p>

<p>The developer APIs provide sample code to create oAuth authentication token which contains Merchant Secret Key, Public Key and a few other parameters. For each data request, you need to pass the query string parameter with new oAuth signature along with other input parameters to the REST API.</p>

<p>To enable JWT for a merchant API integration app, you need to set the column <code class="prettyprint">EnableJWT</code>=1 in the &#39;martjack.tblmerchantaddons` table for a specific merchant and public key combination.</p>

<h3 id="back-end-configuration-required">Back-end configuration required</h3>

<p>To obtain access, you first need to add the app in the control panel and generate the Auth token (public key) for that app.</p>

<p>To generate Auth token use the API
<code class="prettyprint">developerapi/OAuth/Token/${PublicKey}</code></p>

<h3 id="authorization-header">Authorization Header</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Accept</td>
<td>application/json</td>
</tr>
<tr>
<td>Content-Type</td>
<td>application/x-www-form-urlencoded</td>
</tr>
<tr>
<td>PublicKey</td>
<td>${PublicKey}</td>
</tr>
<tr>
<td>AuthToken</td>
<td>${AuthToken}</td>
</tr>
<tr>
<td>MerchantId</td>
<td>${merchantId}</td>
</tr>
</tbody></table>

<h2 id="request-information">Request Information</h2>

<table><thead>
<tr>
<th>Entry</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>URL</td>
<td>https://<host>/developerapi/<resource>/. We recommend using secure HTTPS requests instead of http for all your calls</td>
</tr>
<tr>
<td>Host</td>
<td>The server to which the API calls are made. This should be the URL of the respective cluster from where the calls are made. <br> - <strong>India</strong>: <code class="prettyprint">www.martjack.com</code> <br> - <strong>YUM</strong>: <code class="prettyprint">www9.martjack.com</code> <br> - <strong>AM</strong>: <code class="prettyprint">www1.martjack.com</code> <br> - <strong>PH India</strong>: <code class="prettyprint">www2.martjack.com</code>  <br> - <strong>Walmart</strong>: <code class="prettyprint">www8.martjack.com</code> <br> - <strong>LuLu</strong>: <code class="prettyprint">www3.martjack.com</code></td>
</tr>
<tr>
<td>Resource</td>
<td>Resource for which you want to perform an action. <strong>Supported resources</strong>: Banners, Brand, Carts, Category, Customer, CustomerGroups,GiftVoucher, Location, MailList, Merchant, Navigation, Order, PickList, Post, Pricelist, Product, ProductTags, ShoppingList, Store, and Voucher</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET, POST</td>
</tr>
<tr>
<td>Response Format</td>
<td>JSON</td>
</tr>
</tbody></table>

          <h1 id="user-authentication">User Authentication</h1>

<p>The userAuth resource allows existing customers of InStore to register on the org&rsquo;s web page/mobile app, authenticate login credentials, and update user details.</p>

<h2 id="register-users">Register Users</h2>
<pre class="highlight html"><code># Sample Request

https://us.api.capillarytech.com/v2/user_auth/register
</code></pre><pre class="highlight json"><code><span class="err">#</span><span class="w"> </span><span class="err">Sample</span><span class="w"> </span><span class="err">POST</span><span class="w"> </span><span class="err">Request</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"71000000000"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom123"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><pre class="highlight json"><code><span class="err">#</span><span class="w"> </span><span class="err">Sample</span><span class="w"> </span><span class="err">Response</span><span class="w">

</span><span class="p">{</span><span class="w">
</span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">24335250</span><span class="p">,</span><span class="w">
</span><span class="nt">"profiles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
</span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom"</span><span class="p">,</span><span class="w">
</span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w">
</span><span class="nt">"attribution"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="nt">"createDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-22T00:00:00+05:30"</span><span class="p">,</span><span class="w">
</span><span class="nt">"createdBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"org2.till1"</span><span class="p">,</span><span class="w">



</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"org2.till1"</span><span class="p">,</span><span class="w">
</span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TILL"</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="nt">"modifiedBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TILL"</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="nt">"modifiedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-05T13:04:22+05:30"</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
</span><span class="nt">"identifiers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
</span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
</span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"autoemail734253194812111111@gmail.com"</span><span class="w">
</span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
</span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"externalId"</span><span class="p">,</span><span class="w">
</span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ext_id7342531948111"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">],</span><span class="w">
</span><span class="nt">"commChannels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
</span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
</span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"autoemail734253194812111111@gmail.com"</span><span class="p">,</span><span class="w">
</span><span class="nt">"primary"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
</span><span class="nt">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
</span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="nt">"residence"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
</span><span class="nt">"office"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">],</span><span class="w">
</span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INSTORE"</span><span class="p">,</span><span class="w">
</span><span class="nt">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">24335250</span><span class="p">,</span><span class="w">
</span><span class="nt">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
</span><span class="nt">"conflictingProfileList"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
</span><span class="nt">"autoUpdateTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-04T11:12:14+05:30"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">],</span><span class="w">
</span><span class="nt">"loyaltyInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="nt">"loyaltyType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"loyalty"</span><span class="p">,</span><span class="w">
</span><span class="nt">"attributionV2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="nt">"createDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-22T00:00:00+05:30"</span><span class="p">,</span><span class="w">
</span><span class="nt">"createdBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"org2.till1"</span><span class="p">,</span><span class="w">
</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"org2.till1"</span><span class="p">,</span><span class="w">
</span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TILL"</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="nt">"modifiedBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TILL"</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="nt">"modifiedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-05T13:04:22+05:30"</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="nt">"lifetimePurchases"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w">
</span><span class="nt">"score"</span><span class="p">:</span><span class="w"> </span><span class="mi">97</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="nt">"segments"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
</span><span class="nt">"warnings"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
</span><span class="err">}</span><span class="w">


</span></code></pre>
<p>Allows the org&rsquo;s InStore customers to register on their web page or mobile app. You need to use only the mobile number/email id that is registered on InStore.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Information</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>`/user_auth/register&rsquo;</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://&lt;Respective cluster’s API URL&gt;/v2/user_auth/register</code></p>

<h3 id="request-attributes">Request Attributes</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>mobile</td>
<td>Specify a valid mobile number of the user that is already registered with your org (in any source)</td>
</tr>
<tr>
<td>email</td>
<td>Specify a valid email id of the user that is already registered with your org (in any source)</td>
</tr>
<tr>
<td>password</td>
<td>Specify a password for the user account as a MD5 hash</td>
</tr>
</tbody></table>

<h2 id="user-authentication">User Authentication</h2>
<pre class="highlight html"><code># Sample Request

https://us.api.capillarytech.com/v2/user_auth/authorize_user
</code></pre><pre class="highlight json"><code><span class="err">#</span><span class="w"> </span><span class="err">Sample</span><span class="w"> </span><span class="err">POST</span><span class="w"> </span><span class="err">Request</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"71000000000"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom1234"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><pre class="highlight json"><code><span class="err">#</span><span class="w"> </span><span class="err">Sample</span><span class="w"> </span><span class="err">Response</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nt">"entity"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"warnings"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>Validates whether the provided user credentials are valid or not.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Information</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>`/user_auth/authorize_user&rsquo;</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://&lt;Respective cluster’s API URL&gt;/v2/user_auth/authorize_user</code></p>

<h3 id="request-attributes">Request Attributes</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>mobile</td>
<td>Provide the registered mobile number of the user</td>
</tr>
<tr>
<td>email</td>
<td>Provide the registered email id of the user</td>
</tr>
<tr>
<td>password</td>
<td>Provice the password in md5 hash form</td>
</tr>
</tbody></table>

<h2 id="update-password">Update Password</h2>
<pre class="highlight html"><code># Sample Request

https://us.api.capillarytech.com/v2/user_auth/update
</code></pre><pre class="highlight json"><code><span class="err">#</span><span class="w"> </span><span class="err">Sample</span><span class="w"> </span><span class="err">PUT</span><span class="w"> </span><span class="err">Request</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"71000000000"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom12345"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><pre class="highlight json"><code><span class="err">#</span><span class="w"> </span><span class="err">Sample</span><span class="w"> </span><span class="err">Response</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nt">"entity"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"warnings"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Allows updating password of an user account.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Information</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td>`/user_auth/update&rsquo;</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>HTTP Method</td>
<td>PUT</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://&lt;Respective cluster’s API URL&gt;/v2/user_auth/update</code></p>

<h3 id="request-attributes">Request Attributes</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>mobile</td>
<td>Provide the registered mobile number of the user</td>
</tr>
<tr>
<td>email</td>
<td>Provide the registered email id of the user</td>
</tr>
<tr>
<td>password</td>
<td>Provide the new password in md5 hash form</td>
</tr>
</tbody></table>

<h2 id="response-codes">Response Codes</h2>

<h3 id="success-codes">Success Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>91025</td>
<td>Password updated successfully</td>
</tr>
<tr>
<td>91030</td>
<td>User is registered successfully</td>
</tr>
</tbody></table>

<h3 id="error-codes">Error Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>91024</td>
<td>Authentation failed. Unable to authorize user with the given credentials</td>
</tr>
<tr>
<td>91026</td>
<td>Unable to update password</td>
</tr>
<tr>
<td>91027</td>
<td>Invalid username (mobile number/email id)</td>
</tr>
<tr>
<td>91028</td>
<td>Invalid password format. Pass the password in MD5 Hash format</td>
</tr>
<tr>
<td>91029</td>
<td>User is registered already</td>
</tr>
<tr>
<td>91031</td>
<td>Unable to register user</td>
</tr>
</tbody></table>

          <h1 id="customer">Customer</h1>

<p>A Customer is a user of a merchant&rsquo;s online store. This resource consists of APIs to create new customer accounts and manage their details and preferences.</p>

<h3 id="important-parameters-in-customer-resource">Important parameters in customer resource</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>City ID</td>
<td></td>
</tr>
<tr>
<td>City Name</td>
<td></td>
</tr>
<tr>
<td>City Code</td>
<td></td>
</tr>
</tbody></table>

<h2 id="register-customer-account">Register Customer Account</h2>

<p>This API lets you create a new user account on MartJack platform for a specific merchant.</p>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://www.martjack.com/developerapi/Customer/12345678-1234-1234-1234-1234567890AB/Create
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">  
   </span><span class="nt">"customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nt">"UserName"</span><span class="p">:</span><span class="s2">"tom.sawyer@capillarytech.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"FirstName"</span><span class="p">:</span><span class="s2">"Tom"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"LastName"</span><span class="p">:</span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"PostalAddress"</span><span class="p">:</span><span class="s2">"100, Santa Plaza"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"AlternateEmail"</span><span class="p">:</span><span class="s2">"alternateEmail@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"City"</span><span class="p">:</span><span class="s2">"3451"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Pin"</span><span class="p">:</span><span class="s2">"560001"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"State"</span><span class="p">:</span><span class="s2">"KA"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Country"</span><span class="p">:</span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"PhoneNo"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Street"</span><span class="p">:</span><span class="s2">"MG Road"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"MobileNo"</span><span class="p">:</span><span class="s2">"917000000000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"BirthDate"</span><span class="p">:</span><span class="s2">"1/1/1994 12:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Gender"</span><span class="p">:</span><span class="s2">"F"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Occupation"</span><span class="p">:</span><span class="s2">"Professor"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Industry"</span><span class="p">:</span><span class="s2">"Education"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"OtherArea"</span><span class="p">:</span><span class="s2">"otherArea"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"CountryName"</span><span class="p">:</span><span class="s2">"India"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"StateName"</span><span class="p">:</span><span class="s2">"Karnataka"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"CityName"</span><span class="p">:</span><span class="s2">"Bangalore"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"AreaName"</span><span class="p">:</span><span class="s2">"Area Name"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"OtherCity"</span><span class="p">:</span><span class="s2">"OtherCity"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"IsReceiveOffers"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"States"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"merchantId"</span><span class="p">:</span><span class="s2">"81e77da2-723b-483d-8c0d-49f800c1e288"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Password"</span><span class="p">:</span><span class="s2">"ABG-704@cp"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"CommunicationType"</span><span class="p">:</span><span class="kc">null</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"messageCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1004"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"UserProfiles"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"UserInfoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9b0df0ca-101c-4525-ac55-33829319085a"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"81e77da2-723b-483d-8c0d-49f800cxxxx"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom.sawyer@capillarytech.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"FirstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"LastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"PostalAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100, Santa Plaza"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"AlternateEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alternateEmail@gmail.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3451"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Pin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"560001"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"PhoneNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"917411639213"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MG Road"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"MobileNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"917000000000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"BirthDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1/1/1994 12:00:00 PM"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"M"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Occupation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Job"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Industry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Private"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"OtherArea"</span><span class="p">:</span><span class="w"> </span><span class="s2">"otherArea"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"CountryName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"India"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"StateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Karnataka"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"CityName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bangalore"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"AreaName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Area Name"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"OtherCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OtherCity"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"IsReceiveOffers"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Password"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ConfirmPassword"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Countries"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"States"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"CommunicationType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nochannel"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"MarketingNotificationType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sms|email|push"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"ErrorCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">Customer/{{merchantId}}/Create</code></td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/developerapi/Customer/{merchantId}/Create</code></p>

<h3 id="request-attributes">Request Attributes</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>UserName*</td>
<td>The unique identifier of the customer as configured for the merchant. It could be email, mobile, or any other identifier</td>
</tr>
<tr>
<td>merchantId*</td>
<td>The unique id (GUID) of the merchant in which you want to register customer</td>
</tr>
<tr>
<td>Password*</td>
<td>Password of the customer account. Password policy is as configured for the merchant on the Merchant Panel</td>
</tr>
<tr>
<td>CommunicationType</td>
<td>The preferred communication channel(s) of the customer. Possible Values: SMS, EMAIL</td>
</tr>
<tr>
<td>City</td>
<td>Unique code of the city (as saved in the system). Example: 0562 (for Agra), 250 (Victoria) etc.</td>
</tr>
<tr>
<td>CityName</td>
<td>Full name of the city. Example: Bangalore,</td>
</tr>
<tr>
<td>State</td>
<td>State&rsquo;s postal abbreviation. Example: KA (for Karnataka), CA (for California), IN (for Indiana)</td>
</tr>
<tr>
<td>StateName</td>
<td>Full name of the state. Example: Karnataka, California, Indiana etc.</td>
</tr>
<tr>
<td>Country</td>
<td>alpha-2 code of the country. Example: IN (for India), AU (for Australia), BR (for Brazil) etc.</td>
</tr>
<tr>
<td>CountryName</td>
<td>Full name of the country. Example: India, Australia, Brazil etc.</td>
</tr>
</tbody></table>

<h2 id="customer-login">Customer Login</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://www.martjack.com/developerapi/Customer/12345678-1234-1234-1234-1234567890AB/login
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">  
   </span><span class="nt">"username"</span><span class="p">:</span><span class="s2">"tom.sawyer@capillarytech.com"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"password"</span><span class="p">:</span><span class="s2">"123456!"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">  
   </span><span class="nt">"messageCode"</span><span class="p">:</span><span class="s2">"1004"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"Message"</span><span class="p">:</span><span class="s2">"Logged In successfully"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"Token"</span><span class="p">:{</span><span class="w">  
      </span><span class="nt">"AccessToken"</span><span class="p">:</span><span class="s2">"i1z1ouqyb3roglpei1vmpowe"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"issued_at"</span><span class="p">:</span><span class="s2">"/Date(1533029929318+0530)/"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"UserId"</span><span class="p">:</span><span class="s2">"132d3c1d-7d71-4b87-9a69-a4d216d634fa"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"MerchantId"</span><span class="p">:</span><span class="s2">"81e77da2-723b-483d-8c0d-49f800c1e288"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nt">"ErrorCode"</span><span class="p">:</span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Logs in a registered customer to the merchant&rsquo;s e-commerce store. Customer has to be logged in to perform any other customer tasks such as fetching customer details, modifying customer details and updating profile attributes. Upon successful login, you will receive a <code class="prettyprint">UserId</code> which is required to fetch customer details.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/Customer/{merchantId}/login</code></td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/developerapi/Customer/{merchantId}/login</code></p>

<h3 id="request-attributes">Request Attributes</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username*</td>
<td>User name of the customer account</td>
</tr>
<tr>
<td>password*</td>
<td>Password of the customer account</td>
</tr>
</tbody></table>

<h2 id="get-customer-details">Get Customer Details</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://www.martjack.com/developerapi/Customer/81e77da2-723b-483d-8c0d-49f800c1xxxx/132d3c1d-7d71-4b87-9a69-a4d216d634fa
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">  
   </span><span class="nt">"messageCode"</span><span class="p">:</span><span class="s2">"1004"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"Message"</span><span class="p">:</span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nt">"UserProfiles"</span><span class="p">:[</span><span class="w">  
         </span><span class="p">{</span><span class="w">  
            </span><span class="nt">"UserId"</span><span class="p">:</span><span class="s2">"132d3c1d-7d71-4b87-9a69-a4d216d634fa"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ProfileAttributeId"</span><span class="p">:</span><span class="mi">660</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ProfileAttributeValueId"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ProfileAttributeName"</span><span class="p">:</span><span class="s2">"Favorite Game"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ProfileAttributeValue"</span><span class="p">:</span><span class="s2">"Football"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"UserInfoId"</span><span class="p">:</span><span class="s2">"08a0dffe-86f0-45b6-9fae-df276fe9abb5"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"UserId"</span><span class="p">:</span><span class="s2">"132d3c1d-7d71-4b87-9a69-a4d216d634fa"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"MerchantId"</span><span class="p">:</span><span class="s2">"81e77da2-723b-483d-8c0d-49f800c1xxxx"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"UserName"</span><span class="p">:</span><span class="s2">"NewTeatUser19@capillarytech.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"FirstName"</span><span class="p">:</span><span class="s2">"Tom"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"LastName"</span><span class="p">:</span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"PostalAddress"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"AlternateEmail"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"City"</span><span class="p">:</span><span class="s2">"32"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Pin"</span><span class="p">:</span><span class="s2">"560001"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"State"</span><span class="p">:</span><span class="s2">"KA"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Country"</span><span class="p">:</span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"PhoneNo"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Street"</span><span class="p">:</span><span class="s2">"MG Road"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"MobileNo"</span><span class="p">:</span><span class="s2">"917000000000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"BirthDate"</span><span class="p">:</span><span class="s2">"1/1/1994"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Gender"</span><span class="p">:</span><span class="s2">"male"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Occupation"</span><span class="p">:</span><span class="s2">"Professor"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Industry"</span><span class="p">:</span><span class="s2">"Education"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"OtherArea"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"CountryName"</span><span class="p">:</span><span class="s2">"India"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"StateName"</span><span class="p">:</span><span class="s2">"Karnataka"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"CityName"</span><span class="p">:</span><span class="s2">"Bangalore"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"AreaName"</span><span class="p">:</span><span class="s2">"MG Road"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"OtherCity"</span><span class="p">:</span><span class="s2">"OtherCity"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"IsReceiveOffers"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Password"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"ConfirmPassword"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Countries"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"States"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"CommunicationType"</span><span class="p">:</span><span class="s2">"nochannel"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"MarketingNotificationType"</span><span class="p">:</span><span class="s2">"sms|email|push"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nt">"ErrorCode"</span><span class="p">:</span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>Retrieves details of a specific customer.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/Customer/{merchantId}/{UserId}</code></td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>GET</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/developerapi/Customer/{merchantId}/{UserId}</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>merchantId</td>
<td>The unique id (GUID) of the merchant account from which the customer details need to be fetched</td>
</tr>
<tr>
<td>UserId</td>
<td>The unique user identifier of the customer whose details need to be retrieved</td>
</tr>
</tbody></table>

<h2 id="update-customer-details">Update Customer Details</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://www.martjack.com/developerapi/Customer/7c778337-4652-4944-934f-09e0fe56xxxx/Update
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">  
   </span><span class="nt">"customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nt">"UserInfoId"</span><span class="p">:</span><span class="s2">"021e57ca-f19a-42c4-8214-180ad7202044"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"UserId"</span><span class="p">:</span><span class="s2">"1142e724-0f59-4b43-ace6-f10e0e2fxxxx"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"merchantId"</span><span class="p">:</span><span class="s2">"7c778337-4652-4944-934f-09e0fe56xxxx"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"UserName"</span><span class="p">:</span><span class="s2">"tom.sawyer@capillarytech.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"FirstName"</span><span class="p">:</span><span class="s2">"Tom"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"LastName"</span><span class="p">:</span><span class="s2">"Sawyer"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"PostalAddress"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"AlternateEmail"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"City"</span><span class="p">:</span><span class="s2">"32"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Pin"</span><span class="p">:</span><span class="s2">"560001"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"State"</span><span class="p">:</span><span class="s2">"KA"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Country"</span><span class="p">:</span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"PhoneNo"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Street"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"MobileNo"</span><span class="p">:</span><span class="s2">"917400000000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"BirthDate"</span><span class="p">:</span><span class="s2">"01/01/1993"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Gender"</span><span class="p">:</span><span class="s2">"male"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Occupation"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Industry"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"OtherArea"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"CountryName"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"IsReceiveOffers"</span><span class="p">:</span><span class="kc">false</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"messageCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1004"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ErrorCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Modifies the existing details of a registered customer other than the customer&rsquo;s unique identifier.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">Customer/{merchantId}/Update</code></td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/developerapi/Customer/{merchantId}/Update</code></p>

<h3 id="request-attributes">Request Attributes</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td>Unique identifier of the customer as generated by the MartJack system.</td>
</tr>
<tr>
<td>City</td>
<td>Unique code of the city (as saved in the system). Example: 0562 (for Agra), 250 (Victoria) etc.</td>
</tr>
<tr>
<td>CityName</td>
<td>Full name of the city. Example: Bangalore,</td>
</tr>
<tr>
<td>State</td>
<td>State&rsquo;s postal abbreviation. Example: KA (for Karnataka), CA (for California), IN (for Indiana)</td>
</tr>
<tr>
<td>StateName</td>
<td>Full name of the state. Example: Karnataka, California, Indiana etc.</td>
</tr>
<tr>
<td>Country</td>
<td>alpha-2 code of the country. Example: IN (for India), AU (for Australia), BR (for Brazil) etc.</td>
</tr>
<tr>
<td>CountryName</td>
<td>Full name of the country. Example: India, Australia, Brazil etc.</td>
</tr>
</tbody></table>

<h2 id="update-profile-attributes-custom-fields">Update Profile Attributes (Custom Fields)</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight html"><code>https://www.martjack.com/developerapi/Customer/7c778337-4652-4944-934f-09e0fe56xxxx/UpdateUserProfile
</code></pre>
<blockquote>
<p>Sample POST Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">  
   </span><span class="nt">"UserProfile"</span><span class="p">:{</span><span class="w">  
      </span><span class="nt">"UserId"</span><span class="p">:</span><span class="s2">"3562a74e-1292-4d47-ba17-bc0a06af3xxx"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"ProfileAttributes"</span><span class="p">:{</span><span class="w">  
         </span><span class="nt">"ProfileAttribute"</span><span class="p">:{</span><span class="w">  
            </span><span class="nt">"ProfileAttributeId"</span><span class="p">:</span><span class="s2">"1058"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ProfileAttributeValue"</span><span class="p">:</span><span class="s2">"Football"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"messageCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1004"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Updated Successfully"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ErrorCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Captures or updates custom field details of a customer.</p>

<h3 id="resource-information">Resource Information</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>URI</td>
<td><code class="prettyprint">/Customer/{merchantId}/UpdateUserProfile</code></td>
</tr>
<tr>
<td>Rate Limited?</td>
<td>Yes</td>
</tr>
<tr>
<td>Authentication</td>
<td>Yes</td>
</tr>
<tr>
<td>Response Formats</td>
<td>JSON</td>
</tr>
<tr>
<td>HTTP Methods</td>
<td>POST</td>
</tr>
<tr>
<td>Batch Support</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">https://{host}/developerapi/Customer/{merchantId}/UpdateUserProfile</code></p>

<h3 id="request-attributes">Request Attributes</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ProfileAttributeId*</td>
<td>ID of the attribute that needs to be updated</td>
</tr>
<tr>
<td>ProfileAttributeValue</td>
<td>Customer&rsquo;s preferred attribute value</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="json">json</a>
          </div>
      </div>
    </div>
  </body>
</html>
